<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<title>Circle Dodge Multiplayer</title>
	<link rel="stylesheet" href="/styles.css" />
</head>
<body>
	<div id="app">
		<div id="menu">
			<h1>Circle Dodge</h1>
			<label>
				<span>Name</span>
				<input id="nameInput" type="text" maxlength="24" placeholder="Your name" />
			</label>
			<label>
				<span>Emoji</span>
				<input id="emojiInput" type="text" maxlength="4" placeholder="ðŸ™‚" />
			</label>
			<div class="row">
				<label class="inline"><input id="publicToggle" type="checkbox" /> <span>Public room</span></label>
				<button id="createBtn">Create Room</button>
			</div>
			<div class="row join">
				<input id="roomInput" type="text" maxlength="8" placeholder="Room code" />
				<button id="joinBtn">Join</button>
			</div>
			<div id="lobby" class="panel" style="position:relative;">
				<h3>Public Rooms</h3>
				<div id="roomsList" class="rooms"></div>
				<div class="row" style="justify-content: space-between;">
					<small class="hint">Join any public room below</small>
					<button id="refreshRooms">Refresh</button>
				</div>
			</div>
			<p class="hint">Controls: WASD/Arrows or drag joystick on mobile</p>
		</div>
		<canvas id="game"></canvas>
		<div id="hud" class="hidden">
			<div id="topbar">
				<div id="roomInfo"></div>
				<div id="hostControls" class="hidden">
					<button id="startBtn">Start Round</button>
					<button id="settingsToggle">Settings</button>
				</div>
			</div>
			<div id="enemyCount" class="badge">Enemies: 0</div>
			<div id="scoreboard"></div>
			<div id="announcement"></div>
			<button id="dashBtn" class="badge" style="position:absolute; left:12px; bottom:12px; padding:10px 14px; border-radius:10px; background:#1f2937; color:white; border:1px solid rgba(255,255,255,0.15);">Dash</button>
			<div id="settingsPanel" class="panel hidden">
				<h3>Game Settings</h3>
				<div class="grid">
					<label>Player size <input id="setPlayerRadius" type="number" min="8" max="80" step="1" /></label>
					<label>Enemy size <input id="setEnemyRadius" type="number" min="8" max="80" step="1" /></label>
					<label>Player max speed <input id="setPlayerMaxSpeed" type="number" min="80" max="1000" step="10" /></label>
					<label>Enemy min speed <input id="setEnemyMin" type="number" min="40" max="1600" step="10" /></label>
					<label>Enemy max speed <input id="setEnemyMax" type="number" min="40" max="1600" step="10" /></label>
					<label>Enemy spawn ms <input id="setSpawnMs" type="number" min="1000" max="60000" step="500" /></label>
				</div>
				<div class="row"><button id="applySettings">Apply</button></div>
			</div>
			<div id="victoryPanel" class="panel hidden">
				<h3>Victory</h3>
				<div id="victoryList"></div>
				<div class="row"><button id="restartGame">Restart Game</button></div>
			</div>
			<div id="joystick" class="joystick">
				<div id="stick" class="stick"></div>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/client.js"></script>
</body>
</html>
